<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>ğŸ“º Live TV</title>
<style>
  :root{--bg:#111;--card:#222;--accent:#ffcc00;--muted:rgba(255,255,255,0.08);}
  body{margin:0;font-family:"Segoe UI",Tahoma,Arial,sans-serif;background:var(--bg);color:#fff;text-align:center}
  #telegram-bar{position:fixed;top:0;left:0;width:100%;background:#000;color:var(--accent);font-size:15px;padding:10px;border-bottom:1px solid rgba(255,255,255,0.06);z-index:9999;display:flex;justify-content:center;align-items:center;gap:12px}
  #telegram-bar a{color:#ff0066;text-decoration:none;font-weight:700}
  header{margin-top:84px;font-size:20px;color:var(--accent);font-weight:800}
  .channel-bar{display:flex;flex-wrap:wrap;gap:12px;justify-content:center;padding:18px}
  .channel-tile{width:120px;height:120px;background:var(--card);border-radius:12px;display:flex;flex-direction:column;align-items:center;justify-content:center;cursor:pointer;padding:8px;border:1px solid rgba(255,255,255,0.04);transition:transform .14s,box-shadow .14s}
  .channel-tile:hover{transform:translateY(-6px);box-shadow:0 14px 30px rgba(0,0,0,0.6)}
  .channel-label{color:var(--accent);font-weight:800;font-size:13px;margin-top:8px;text-align:center}
  .logo{width:72px;height:48px;object-fit:cover;border-radius:6px;background:#000;border:1px solid rgba(255,255,255,0.03)}
  /* modal */
  .modal-back{position:fixed;inset:0;background:rgba(0,0,0,0.6);display:none;align-items:center;justify-content:center;z-index:10000}
  .modal{width:92%;max-width:420px;background:#0f0f0f;border-radius:12px;padding:14px;border:1px solid rgba(255,255,255,0.04)}
  .modal h3{color:var(--accent);margin:4px 0 10px;font-size:16px}
  .sources{display:flex;flex-direction:column;gap:8px}
  .src-btn{background:var(--muted);padding:10px;border-radius:8px;font-weight:800;cursor:pointer;border:1px solid rgba(255,255,255,0.03);color:#eee}
  .src-btn:hover{background:var(--accent);color:#111}
  .small{font-size:12px;color:#ccc;margin-top:8px}
  .warn{background:#3a2a2a;color:#ffb3b3;padding:8px;border-radius:8px;margin-top:10px;font-size:13px}
  .row{display:flex;gap:8px;justify-content:center;margin-top:10px}
  .btn-alt{padding:8px 12px;border-radius:8px;border:1px solid rgba(255,255,255,0.06);background:#222;color:#fff;cursor:pointer}
  @media(max-width:520px){ .channel-tile{width:98px;height:98px} .logo{width:64px;height:42px} }
</style>
</head>
<body>

<div id="telegram-bar">
  <img src="https://llaaddzz.neocities.org/live%20tv%20.png" alt="logo" style="height:46px;object-fit:contain">
  <span>ğŸ“¢ ØªØ§Ø¨Ø¹Ù†Ø§ Ø¹Ù„Ù‰ Ø§Ù„ØªÙ„ÙŠØ¬Ø±Ø§Ù…: <a href="https://t.me/alialiah123456" target="_blank" rel="noopener">@alialiah123456</a></span>
</div>

<header>Live TV â€” Ø§Ø®ØªØ§Ø± Ù‚Ù†Ø§Ø© Ø«Ù… Ø§Ù„Ù…ØµØ¯Ø±</header>

<div class="channel-bar" id="channels"></div>

<!-- Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù…ØµØ¯Ø± modal -->
<div class="modal-back" id="modalBack" aria-hidden="true">
  <div class="modal" role="dialog" aria-modal="true">
    <h3 id="modalTitle">Ù…ØµØ§Ø¯Ø± Ø§Ù„Ù‚Ù†Ø§Ø©</h3>
    <div class="sources" id="sourcesList"></div>
    <div class="small">Ø¥Ø°Ø§ Ù„Ù… ÙŠÙØªØ­ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ØŒ Ø§Ø³ØªØ®Ø¯Ù… Ø²Ø± "ÙØªØ­ Ø¨Ø§Ù„Ù…ØªØµÙØ­" Ø£Ùˆ ØªØ£ÙƒØ¯ Ø£Ù† Ø§Ù„Ù…ÙˆÙ‚Ø¹ ÙŠØ¹Ù…Ù„ Ø¹Ù„Ù‰ HTTPS ÙˆØ£Ù† Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ù…Ø«Ø¨Øª.</div>
    <div class="row">
      <button class="btn-alt" id="openBrowserBtn">ÙØªØ­ Ø¨Ø§Ù„Ù…ØªØµÙØ­</button>
      <button class="btn-alt" id="playStoreBtn">ØªØ«Ø¨ÙŠØª / ÙØªØ­ XPola (Ù…ØªØ¬Ø±)</button>
      <button class="btn-alt" id="closeModalBtn">Ø¥ØºÙ„Ø§Ù‚</button>
    </div>
    <div class="warn" id="localWarn" style="display:none">Ù…Ù„Ø§Ø­Ø¸Ø©: ÙŠØ¬Ø¨ Ø±ÙØ¹ Ù‡Ø°Ù‡ Ø§Ù„ØµÙØ­Ø© Ø¹Ù„Ù‰ Ø§Ø³ØªØ¶Ø§ÙØ© HTTPS Ù„ÙØªØ­ Ù…Ù„ÙØ§Øª TS Ø¹Ø¨Ø± Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ù…Ø¨Ø§Ø´Ø±Ø©. Ø§Ù„ØªØ´ØºÙŠÙ„ Ù…Ù† Ù…Ù„Ù Ù…Ø­Ù„ÙŠ Ù‚Ø¯ Ù„Ø§ ÙŠØ¹Ù…Ù„.</div>
  </div>
</div>

<script>
/* ---------------------------
   Ù‚Ù†ÙˆØ§ØªÙƒ â€” Ù…Ø¹ Ø§Ù„Ù…ØµØ§Ø¯Ø± Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©
   BEIN 1/2/3 Ø£ÙˆÙ„Ø§Ù‹ (Ø±ÙˆØ§Ø¨Ø· TS Ø­Ø³Ø¨ Ù…Ø§ Ø§Ø¹Ø·ÙŠØª)
   Ø¨Ø§Ù‚ÙŠ Ø§Ù„Ù‚Ù†ÙˆØ§Øª ÙƒÙ…Ø§ Ø·Ù„Ø¨Øª.
   --------------------------- */
const channels = [
  { name: 'Bein Sport 1', sources: [
      { label: '4K', url: 'http://app-plus.live/live/0iq4jp0j2bb/ne5zp7911c/114053.ts' },
      { label: 'FULL HD', url: 'http://app-plus.live/live/0iq4jp0j2bb/ne5zp7911c/3854.ts' },
      { label: 'HD', url: 'http://app-plus.live/live/0iq4jp0j2bb/ne5zp7911c/1269943.ts' }
  ]},
  { name: 'Bein Sport 2', sources: [
      { label: '4K', url: 'http://app-plus.live/live/0iq4jp0j2bb/ne5zp7911c/114052.ts' },
      { label: 'FULL HD', url: 'http://app-plus.live/live/0iq4jp0j2bb/ne5zp7911c/3853.ts' },
      { label: 'HD', url: 'http://app-plus.live/live/0iq4jp0j2bb/ne5zp7911c/3853.ts' } // ØªÙƒØ±Ø§Ø± ÙƒÙ…ØµØ¯Ø± Ø§Ø­ØªÙŠØ§Ø·ÙŠ
  ]},
  { name: 'Bein Sport 3', sources: [
      { label: '4K', url: 'http://app-plus.live/live/0iq4jp0j2bb/ne5zp7911c/114050.ts' },
      { label: 'FULL HD', url: 'http://app-plus.live/live/0iq4jp0j2bb/ne5zp7911c/3851.ts' },
      { label: 'HD', url: 'http://app-plus.live/live/0iq4jp0j2bb/ne5zp7911c/3851.ts' } // ØªÙƒØ±Ø§Ø± ÙƒÙ…ØµØ¯Ø± Ø§Ø­ØªÙŠØ§Ø·ÙŠ
  ]},

  // Ø§Ù„Ù‚Ù†ÙˆØ§Øª Ø§Ù„Ø£ØµÙ„ÙŠØ© ÙƒÙ…Ø§ Ø¹Ù†Ø¯Ùƒ (M3U8)
  { name: 'Live TV 1', sources: [{ label: 'Default', url: 'https://stream.supertv.gg:3001/supertv/sport/stv1/ch1/ch1_1080.m3u8' }] },
  { name: 'Live TV 2', sources: [{ label: 'Default', url: 'https://stream.supertv.gg:3002/supertv/sport/stv2/ch2/ch2_1080.m3u8' }] },
  { name: 'Live TV 3', sources: [{ label: 'Default', url: 'https://stream.supertv.gg:3003/supertv/sport/stv3/ch3/ch3_1080.m3u8' }] },
  { name: 'Live TV 4', sources: [{ label: 'Default', url: 'https://stream.supertv.gg:3004/supertv/sport/stv4/ch4/ch4_1080.m3u8' }] },
  { name: 'Live TV 5', sources: [{ label: 'Default', url: 'https://stream.supertv.gg:3005/supertv/sport/stv5/ch5/ch5_1080.m3u8' }] },
  { name: 'Live TV 6', sources: [{ label: 'Default', url: 'https://stream.supertv.gg:3006/supertv/sport/stv6/ch6/ch6_1080.m3u8' }] },
  { name: 'Live TV 7', sources: [{ label: 'Default', url: 'https://stream.veo.buzz:6075/sport/ch3/adaptive.m3u8' }] },
  { name: 'Live TV 8', sources: [{ label: 'Default', url: 'https://stream.veo.buzz:6076/sport/ch4/adaptive.m3u8' }] },
  { name: 'Live TV 9', sources: [{ label: 'Default', url: 'https://stream.veo.buzz:6077/sport/ch5/adaptive.m3u8' }] },
  { name: 'Live TV 10', sources: [{ label: 'Default', url: 'https://stream.veo.buzz:6078/sport/ch6/adaptive.m3u8' }] },
  { name: 'Live TV 11', sources: [{ label: 'Default', url: 'https://stream.veo.buzz:6073/sport/ch2/ch2_720.m3u8' }] },
  { name: 'Live TV 12', sources: [{ label: 'Default', url: 'https://lenz.splus.ir/PLTV/88888888/224/3221226868/index.m3u8' }] }
];

/* Ø¹Ù†Ø§ØµØ± DOM */
const channelsContainer = document.getElementById('channels');
const modalBack = document.getElementById('modalBack');
const sourcesList = document.getElementById('sourcesList');
const modalTitle = document.getElementById('modalTitle');
const openBrowserBtn = document.getElementById('openBrowserBtn');
const playStoreBtn = document.getElementById('playStoreBtn');
const closeModalBtn = document.getElementById('closeModalBtn');
const localWarn = document.getElementById('localWarn');

const XPOLA_PACKAGE = 'com.xpola.player';
const XPOLA_PLAYSTORE = 'https://play.google.com/store/apps/details?id=' + XPOLA_PACKAGE;

/* ØªØ­Ø°ÙŠØ± Ø¥Ø°Ø§ Ø§Ù„ØµÙØ­Ø© Ù„ÙŠØ³Øª Ø¹Ù„Ù‰ https (ÙŠØ¸Ù‡Ø± Ø¯Ø§Ø®Ù„ Ø§Ù„Ù…ÙˆØ¯Ø§Ù„) */
function checkHttps() {
  if (location.protocol !== 'https:') {
    localWarn.style.display = 'block';
  } else {
    localWarn.style.display = 'none';
  }
}

/* Ø¨Ù†Ø§Ø¡ ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù‚Ù†ÙˆØ§Øª */
channels.forEach((ch, idx) => {
  const tile = document.createElement('div');
  tile.className = 'channel-tile';
  tile.dataset.index = idx;

  const logo = document.createElement('img');
  logo.className = 'logo';
  logo.src = 'https://llaaddzz.neocities.org/1755383532388.jpg';
  logo.alt = ch.name;

  const label = document.createElement('div');
  label.className = 'channel-label';
  label.textContent = ch.name;

  tile.appendChild(logo);
  tile.appendChild(label);
  tile.addEventListener('click', () => openSourcesModal(idx));
  channelsContainer.appendChild(tile);
});

/* Ø§ÙØªØ­ Ø§Ù„Ù…ÙˆØ¯Ø§Ù„ ÙˆØ£Ø¹Ø±Ø¶ Ø§Ù„Ù…ØµØ§Ø¯Ø± */
let currentSources = [];
function openSourcesModal(index) {
  const ch = channels[index];
  currentSources = ch.sources || [];
  modalTitle.textContent = ch.name + ' â€” Ø§Ø®ØªØ± Ø§Ù„Ù…ØµØ¯Ø±';
  sourcesList.innerHTML = '';
  currentSources.forEach(src => {
    const btn = document.createElement('div');
    btn.className = 'src-btn';
    btn.textContent = src.label;
    btn.addEventListener('click', () => {
      tryOpenInXPola(src.url);
    });
    sourcesList.appendChild(btn);
  });
  checkHttps();
  modalBack.style.display = 'flex';
}

/* Ø§ØºÙ„Ø§Ù‚ Ø§Ù„Ù…ÙˆØ¯Ø§Ù„ */
closeModalBtn.addEventListener('click', () => { modalBack.style.display='none'; });

/* Ø§ÙØªØ­ Ø¨Ø§Ù„Ù…ØªØµÙØ­ ÙƒØ®ÙŠØ§Ø± Ø§Ø­ØªÙŠØ§Ø·ÙŠ */
openBrowserBtn.addEventListener('click', () => {
  if (currentSources.length) window.open(currentSources[0].url, '_blank');
});

/* Ø²Ø± ØªÙˆØ¬ÙŠÙ‡ Ù„Ø³ÙˆÙ‚ Ø¨Ù„Ø§ÙŠ */
playStoreBtn.addEventListener('click', () => { window.open(XPOLA_PLAYSTORE, '_blank'); });

/* --------- Ù…Ø­Ø§ÙˆÙ„Ø© ÙØªØ­ Intent Ø¨Ø·Ø±ÙŠÙ‚Ø© Ù…ÙˆØ«ÙˆÙ‚Ø© ---------
   Ù†Ø³ØªØ®Ø¯Ù… intent:// URI Ù…Ø¹ S.browser_fallback_url Ù„ÙŠÙØªØ­ Ø§Ù„Ø±Ø§Ø¨Ø· Ù…Ø¨Ø§Ø´Ø±Ø© ÙÙŠ Ø­Ø§Ù„Ø© ÙØ´Ù„ intent (fallback)
   ÙˆÙ†Ø·Ø¨Ù‚ ÙØ­Øµ Ù‚ØµÙŠØ± (visibility) Ù„Ù…Ø¹Ø±ÙØ© Ù…Ø§ Ø¥Ø°Ø§ Ø§Ù„ÙØªØ­ Ù†Ø¬Ø­ØŒ ÙˆØ¥Ø°Ø§ Ù„Ø§ Ù†Ø¹Ø±Ø¶ Ø±Ø³Ø§Ù„Ø© Ø£Ùˆ Ù†ÙØªØ­ Ù†Ø³Ø®Ø© Ø§Ù„Ù…ØªØµÙØ­.
   Ù…Ù„Ø§Ø­Ø¸Ø©: ÙŠØ¬Ø¨ Ø§Ø³ØªØ¶Ø§ÙØ© Ø§Ù„ØµÙØ­Ø© Ø¹Ù„Ù‰ HTTPS Ù„ØªØ¹Ù…Ù„ Ø±ÙˆØ§Ø¨Ø· TS Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­ Ø¹Ø¨Ø± Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª.
-----------------------------------------------------*/
function buildIntentUrl(url) {
  // Ù†Ø¶Ø¹ fallback Ø¥Ù„Ù‰ Ù†ÙØ³ Ø§Ù„Ù€ URL (ÙŠÙØªØ­ ÙÙŠ Ø§Ù„Ù…ØªØµÙØ­ Ø¥Ø°Ø§ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ ØºÙŠØ± Ù…Ø«Ø¨Øª)
  const fallback = encodeURIComponent(url);
  // Ø¬Ø²Ø¡ Ø¨Ø¹Ø¯ intent:// ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ø¨Ø¯ÙˆÙ† scheme (https://)
  const withoutScheme = url.replace(/^https?:\/\//i, '');
  // Ù†Ù†Ø´Ø¦ Ø§Ù„Ù€ Intent string
  return `intent://${withoutScheme}#Intent;scheme=https;package=${XPOLA_PACKAGE};S.browser_fallback_url=${fallback};end`;
}

function tryOpenInXPola(url) {
  // Ø¥Ø°Ø§ Ù„Ù… ØªÙƒÙ† URL ØµØ­ÙŠØ­Ø©ØŒ Ù†Ø®Ø¨Ø± Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
  if (!url) return alert('Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø±Ø§Ø¨Ø· Ù„Ù‡Ø°Ø§ Ø§Ù„Ù…ØµØ¯Ø±.');

  const intent = buildIntentUrl(url);

  // Ø³Ø¬Ù„ Ø§Ù„ÙˆÙ‚Øª Ø«Ù… Ø­Ø§ÙˆÙ„ ÙØªØ­ Ø§Ù„Ù€ intent
  const start = Date.now();

  // Ø§ÙØªØ­ Ø§Ù„Ù€ intent
  window.location.href = intent;

  // Ø¨Ø¹Ø¯ ÙˆÙ‚Øª Ù‚ØµÙŠØ± Ù†ØªØ­Ù‚Ù‚ Ø¥Ù† Ø§Ù„ØµÙØ­Ø© Ù„Ù… ØªÙØ®ÙÙ (ÙŠØ¹Ù†ÙŠ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ù„Ù… ÙŠÙØªØ­)
  setTimeout(() => {
    const elapsed = Date.now() - start;
    // Ù„Ùˆ Ø¸Ù„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¹Ù„Ù‰ Ø§Ù„ØµÙØ­Ø©ØŒ ÙÙ†ÙØªØ±Ø¶ Ø£Ù† Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ù„Ù… ÙŠÙØªØ­
    if (!document.hidden && elapsed < 2500) {
      // Ø¹Ø±Ø¶ Ø®ÙŠØ§Ø± Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù„ÙØªØ­ Ø§Ù„Ø±Ø§Ø¨Ø· ÙÙŠ Ø§Ù„Ù…ØªØµÙØ­ Ø£Ùˆ ØªØ«Ø¨ÙŠØª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
      const ok = confirm('ÙŠØ¨Ø¯Ùˆ Ø£Ù† Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ù„Ù… ÙŠÙÙØªØ­ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹. ØªØ±ÙŠØ¯ ÙØªØ­ Ø§Ù„Ø±Ø§Ø¨Ø· ÙÙŠ Ø§Ù„Ù…ØªØµÙØ­ Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† Ø°Ù„ÙƒØŸ (Ø§Ø®ØªÙŠØ§Ø± Ù†Ø¹Ù… = ÙØªØ­ ÙÙŠ Ø§Ù„Ù…ØªØµÙØ­)');
      if (ok) {
        window.open(url, '_blank');
      } else {
        // Ù†Ø¹Ø±Ø¶ Ø²Ø± Ø§Ù„ØªØ«Ø¨ÙŠØª
        if (confirm('Ù‡Ù„ ØªØ±ÙŠØ¯ Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù„Ù…ØªØ¬Ø± Google Play Ù„ØªØ«Ø¨ÙŠØª XPolaØŸ')) {
          window.open(XPOLA_PLAYSTORE, '_blank');
        }
      }
    }
  }, 1400);
}

/* ÙØ­Øµ Ø£ÙˆÙ„ÙŠ */
checkHttps();

</script>
</body>
</html>
